import{x as p,h as c,y as g,E as h,z as v,H as y,A as m,B as E,C as _,D as T,F as A,G as b,n as N,l as S,o as R}from"./CR1LdmZO.js";import{B as x}from"./BSoxJdSX.js";import{s as B,g as D}from"./DuQWZmqL.js";function C(e,r,n=!1){c&&g();var s=new x(e),u=n?h:0;function t(a,i){if(c){const d=v(e)===y;if(a===d){var o=m();E(o),s.anchor=o,_(!1),s.ensure(a,i),_(!0);return}}s.ensure(a,i)}p(()=>{var a=!1;r((i,o=!0)=>{a=!0,t(o,i)}),a||t(!1,null)},u)}let f=!1,l=Symbol();function H(e,r,n){const s=n[r]??={store:null,source:N(void 0),unsubscribe:b};if(s.store!==e&&!(l in n))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=b;else{var u=!0;s.unsubscribe=B(e,t=>{u?s.source.v=t:R(s.source,t)}),u=!1}return e&&l in n?D(e):S(s.source)}function I(){const e={};function r(){T(()=>{for(var n in e)e[n].unsubscribe();A(e,l,{enumerable:!1,value:!0})})}return[e,r]}function M(e){var r=f;try{return f=!1,[e(),f]}finally{f=r}}export{H as a,M as c,C as i,I as s};
