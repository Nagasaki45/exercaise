import{Z as m,_ as y,h as i,$ as S,K as k,a0 as A,a1 as E,a2 as b,a3 as M,a4 as g,a5 as N,n as c,a6 as L}from"./D3NXlZUO.js";const T=Symbol("is custom element"),I=Symbol("is html");function H(e){if(i){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;u(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var s=e.checked;u(e,"checked",null),e.checked=s}}};e.__on_r=r,k(r),A()}}function u(e,a,r,t){var s=O(e);i&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="loading"&&(e[E]=r),r==null?e.removeAttribute(a):typeof r!="string"&&w(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function O(e){return e.__attributes??={[T]:e.nodeName.includes("-"),[I]:e.namespaceURI===m}}var h=new Map;function w(e){var a=e.getAttribute("is")||e.nodeName,r=h.get(a);if(r)return r;h.set(a,r=[]);for(var t,s=e,o=Element.prototype;o!==s;){t=S(s);for(var l in t)t[l].set&&r.push(l);s=y(s)}return r}function K(e,a,r=a){var t=new WeakSet;b(e,"input",async s=>{var o=s?e.defaultValue:e.value;if(o=_(e)?n(o):o,r(o),c!==null&&t.add(c),await M(),o!==(o=a())){var l=e.selectionStart,f=e.selectionEnd,d=e.value.length;if(e.value=o??"",f!==null){var v=e.value.length;l===f&&f===d&&v>d?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=l,e.selectionEnd=Math.min(f,v))}}}),(i&&e.defaultValue!==e.value||g(a)==null&&e.value)&&(r(_(e)?n(e.value):e.value),c!==null&&t.add(c)),N(()=>{var s=a();if(e===document.activeElement){var o=L??c;if(t.has(o))return}_(e)&&s===n(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function _(e){var a=e.type;return a==="number"||a==="range"}function n(e){return e===""?null:+e}export{K as b,H as r,u as s};
