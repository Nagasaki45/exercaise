import{f as R,a as U}from"../chunks/DJS9wBG_.js";import{i as L}from"../chunks/CWFtMCaS.js";import{o as W}from"../chunks/YGWwcCV1.js";import{S as E,Y as S,d as e,T,U as p,V as u,q as b,R as c,X as d,W as q}from"../chunks/D3NXlZUO.js";import{e as N,s as O}from"../chunks/tj3d_5tf.js";import{b as V,s as X}from"../chunks/CT7YqJAv.js";import{s as B,a as h}from"../chunks/h4zghCTB.js";import{p as D}from"../chunks/DhtkPJSp.js";import{w as _}from"../chunks/BfrWKG2O.js";import{g as v}from"../chunks/BVkLACo8.js";import{j as $}from"../chunks/B5MQNTTm.js";var F=R('<div class="container svelte-15w24zp"><h1 class="svelte-15w24zp"> </h1> <textarea class="svelte-15w24zp"></textarea> <div class="actions svelte-15w24zp"><button class="svelte-15w24zp">Save Changes</button> <a class="button button-cancel svelte-15w24zp">Cancel</a></div></div>');function st(x,y){E(y,!1);const z=()=>h(D,"$page",f),A=()=>h(_,"$workouts",f),[f,M]=B();let r,s=b(""),o=b("");W(()=>{const t=z().params.slug;if(t)if(c(o,decodeURIComponent(t)),r=A().find(a=>a.name===e(o)),r){const a={workouts:[r]};c(s,$.dump(a,{indent:2}))}else v("/");else v("/")});function C(){try{const t=$.load(e(s));if(!t||!t.workouts||!Array.isArray(t.workouts)||t.workouts.length!==1){alert('Invalid YAML format: Expected an object with a "workouts" array containing a single workout.');return}const a=t.workouts[0];_.update(j=>{const l=new Map(j.map(k=>[k.name,k]));return e(o)!==a.name&&l.delete(e(o)),l.set(a.name,a),Array.from(l.values())}),v(`/workout/${encodeURIComponent(a.name)}`)}catch(t){alert(`Invalid YAML format: ${t.message}`)}}L();var n=F(),i=u(n),I=u(i);d(i);var m=p(i,2);q(m);var w=p(m,2),g=u(w),Y=p(g,2);d(w),d(n),S(t=>{O(I,`Edit ${e(o)??""} (YAML)`),X(Y,"href",`/workout/${t??""}`)},[()=>encodeURIComponent(e(o))]),V(m,()=>e(s),t=>c(s,t)),N("click",g,C),U(x,n),T(),M()}export{st as component};
